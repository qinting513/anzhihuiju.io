webpackJsonp([2],{"7Gu/":function(e,i,t){e.exports=t.p+"static/img/bg24.3d25478.png"},DkKV:function(e,i){},E1Sg:function(e,i,t){e.exports=t.p+"static/img/frame_border2.3d89f9d.png"},E2H7:function(e,i,t){e.exports=t.p+"static/media/frame4.3de1aa2.mp4"},EekA:function(e,i,t){e.exports=t.p+"static/img/longPressBtn4.f57be45.png"},"G+CJ":function(e,i,t){e.exports=t.p+"static/media/frame2.0303c54.mp4"},GN3G:function(e,i,t){e.exports=t.p+"static/media/animation2.edafd81.mp4"},H1v6:function(e,i,t){e.exports=t.p+"static/media/frame3.a61d18f.mp4"},Ju8T:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("Dd8w"),a=t.n(n),r=t("NYxO"),s=t("2sLL"),o=t("ABCa"),c=(s.a,o.a,a()({},Object(r.b)(["sidebar","language"]),{swiperStyle:function(){return{left:"-"+this.index+"00%"}}}),{components:{XButton:s.a,XHeader:o.a},data:function(){return{canvasDOM:{width:0,height:0},longVideoDOM:null,ctx:null,dynamicSrc:["","","",""],swiperMarkX:null,touchStartPoint:{clientX:null,clientY:null},index:0,isSwipering:!1,isCanvasShow:!1,intervalTimer:null,timeoutTimer:null,canvasPicArr:[],frameNum:30,upendSpeed:2,swiperCardList:[{height:50.7,videoTop:8,borderTop:9.3,borderHeight:76.3,bgUrl:t("Nzh7"),borderImgSrc:t("O/0A"),shortVideoSrc:t("n54Z"),longPressSrc:t("jRgP"),longVideoSrc:t("Nzxm"),isSatisfied:!1},{height:44.1,videoTop:9.7,borderTop:10.8,borderHeight:74.7,bgUrl:t("7Gu/"),borderImgSrc:t("E1Sg"),shortVideoSrc:t("G+CJ"),longPressSrc:t("aPFU"),longVideoSrc:t("GN3G"),isSatisfied:!1},{height:30.5,videoTop:8.9,borderTop:18.6,borderHeight:67,bgUrl:t("Nzh7"),borderImgSrc:t("ohzi"),shortVideoSrc:t("H1v6"),longPressSrc:t("oj/A"),longVideoSrc:t("ToTH"),isSatisfied:!1},{height:49,videoTop:14,borderTop:3.5,borderHeight:82,bgUrl:t("7Gu/"),borderImgSrc:t("igA9"),shortVideoSrc:t("E2H7"),longPressSrc:t("EekA"),longVideoSrc:t("wcqD"),isSatisfied:!1}],longTouchRange:{xRange:[.162,.676],yRange:[.686,.169]},leftArrowRange:{xRange:[.016,.123],yRange:[.374,.088]},rightArrowRange:{xRange:[.861,.123],yRange:[.374,.088]},downArrowRange:{xRange:[.469,.063],yRange:[.899,.016]}}},computed:a()({},Object(r.b)(["sidebar","language"]),{swiperStyle:function(){return{left:"-"+this.index+"00%"}}}),methods:{validate:function(e,i,t,n,a,r){var s=e/this.canvasDOM.width,o=i/this.canvasDOM.height;return s>=t&&s<=n&&o>=a&&o<=r},tapArrow:function(e){for(var i={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY},t=[this.leftArrowRange,this.rightArrowRange,this.downArrowRange],n=void 0,a=void 0,r=void 0,s=void 0,o=null,c=0;c<3;c++)if(n=t[c].xRange[0],a=t[c].xRange[0]+t[c].xRange[1],r=t[c].yRange[0],s=t[c].yRange[0]+t[c].yRange[1],this.validate(i.x,i.y,n,a,r,s)){o=c;break}switch(o){case 0:0!==this.index&&(console.log(this.index),this.setIndex(this.index-1));break;case 1:3!==this.index&&this.setIndex(this.index+1);break;case 2:this.$router.push({path:"/swiper-next"})}},swiper:function(e){switch(e.direction){case"Left":3!==this.index&&this.setIndex(this.index+1);break;case"Right":0!==this.index&&this.setIndex(this.index-1)}},longTap:function(e){var i=this,t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY},n=this.longTouchRange.xRange[0],a=this.longTouchRange.xRange[0]+this.longTouchRange.xRange[1],r=this.longTouchRange.yRange[0],s=this.longTouchRange.yRange[0]+this.longTouchRange.yRange[1];if(this.validate(t.x,t.y,n,a,r,s)){this.canvasPicArr=[],this.timeoutTimer=setTimeout(function(){null!==i.intervalTimer&&(clearInterval(i.intervalTimer),i.intervalTimer=null)},1e3*this.longVideoDOM[this.index].duration),this.longVideoDOM[this.index].play(),this.ctx.drawImage(this.longVideoDOM[this.index],0,0,this.canvasDOM.width,this.canvasDOM.height),this.isCanvasShow=!0;var o=void 0,c=0;this.intervalTimer=setInterval(function(){i.ctx.drawImage(i.longVideoDOM[i.index],0,0,i.canvasDOM.width,i.canvasDOM.height),c%i.upendSpeed==0&&((o=new Image).src=i.$refs.canvas.toDataURL("image/png"),i.canvasPicArr[c/i.upendSpeed]=o),c++},1e3/this.frameNum)}},touchend:function(){var e=this;if(this.isCanvasShow){clearInterval(this.intervalTimer),this.longVideoDOM[this.index].pause(),this.longVideoDOM[this.index].currentTime>=2&&(this.swiperCardList[this.index].isSatisfied=!0);var i=new Image;this.intervalTimer=setInterval(function(){0===e.canvasPicArr.length?(clearInterval(e.intervalTimer),e.intervalTimer=null,e.isCanvasShow=!1,e.longVideoDOM[e.index].currentTime=0):(i=e.canvasPicArr.pop(),e.ctx.drawImage(i,0,0,e.canvasDOM.width,e.canvasDOM.height))},1e3/(this.frameNum*this.upendSpeed))}},setIndex:function(e){var i=this;this.index=e,this.isSwipering=!0,null!==this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.timeoutTimer=setTimeout(function(){i.isSwipering=!1,clearTimeout(i.timeoutTimer),i.timeoutTimer=null,""===i.dynamicSrc[i.index]&&(i.dynamicSrc[i.index]=i.swiperCardList[i.index].longVideoSrc)},300)}},mounted:function(){var e=document.getElementsByClassName("swiper-img")[0];this.longVideoDOM=document.getElementsByClassName("big-video"),this.canvasDOM.width=e.getBoundingClientRect().width/4,this.canvasDOM.height=e.getBoundingClientRect().height,this.ctx=this.$refs.canvas.getContext("2d"),this.dynamicSrc[0]=t("Nzxm")}}),g={render:function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"swiper-img",style:e.swiperStyle},[e._l(e.swiperCardList,function(i,t){return n("div",{staticClass:"swiper-card",style:{backgroundImage:"url("+i.bgUrl+")"}},[n("div",{staticClass:"container",style:{height:i.borderHeight+"vh",top:i.borderTop+"vh",backgroundImage:"url("+i.borderImgSrc+")"}},[n("video",{style:{height:i.height+"vh",top:i.videoTop+"vh"},attrs:{src:i.shortVideoSrc,autoplay:"",loop:""}}),e._v(" "),n("img",{attrs:{src:i.longPressSrc,alt:"长按查看"}})]),e._v(" "),n("video",{staticClass:"big-video",attrs:{src:e.dynamicSrc[t],preload:"auto"}})])}),e._v(" "),0!==e.index?n("img",{class:["left","btn",{isTransparent:e.isSwipering}],attrs:{src:t("fLW0"),alt:"右滑"}}):e._e(),e._v(" "),3!==e.index?n("img",{class:["right","btn",{isTransparent:e.isSwipering}],attrs:{src:t("yHrG"),alt:"左滑"}}):e._e(),e._v(" "),n("img",{class:["click","btn",{isTransparent:!1}],attrs:{src:t("hFx7"),alt:"查看详细"}}),e._v(" "),n("canvas",{directives:[{name:"finger",rawName:"v-finger:tap",value:e.tapArrow,expression:"tapArrow",arg:"tap"},{name:"finger",rawName:"v-finger:swipe",value:e.swiper,expression:"swiper",arg:"swipe"},{name:"finger",rawName:"v-finger:long-tap",value:e.longTap,expression:"longTap",arg:"long-tap"},{name:"finger",rawName:"v-finger:touch-end",value:e.touchend,expression:"touchend",arg:"touch-end"}],ref:"canvas",style:{opacity:e.isCanvasShow?1:0},attrs:{width:e.canvasDOM.width,height:e.canvasDOM.height}})],2)},staticRenderFns:[]};var d=t("VU/8")(c,g,!1,function(e){t("DkKV")},null,null);i.default=d.exports},Nzh7:function(e,i,t){e.exports=t.p+"static/img/bg13.5838ad7.png"},Nzxm:function(e,i,t){e.exports=t.p+"static/media/animation1.2340466.mp4"},"O/0A":function(e,i,t){e.exports=t.p+"static/img/frame_border1.9802c7a.png"},ToTH:function(e,i,t){e.exports=t.p+"static/media/animation3.05943df.mp4"},aPFU:function(e,i,t){e.exports=t.p+"static/img/longPressBtn2.9d444b7.png"},fLW0:function(e,i,t){e.exports=t.p+"static/img/left_btn.d8c1e74.png"},hFx7:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAmCAYAAABqDa0qAAAAAXNSR0IArs4c6QAAA15JREFUaAXlmjtvFDEURpkIJMQjSEAVngUVAjpeggoooImUX0oJBdAhWNEBoqLIQkgFFKAgJBDL+VbX0ayZ2fE69jxYSzcej+07954Z+9vNbLGPMplMjlBdw05jf7Bt7FVRFN+pl7bA5SjJX8XWsBVsCxvBZaewzg1OHMTK5ReNpwz6UD65LMdwOUuud7EDXs4/aT8UuDscXPA6XXPCwXPgvXMnlqGGyUXyvIUVNfm+30+HHsO6oom3cbRKrUdUIP/bQp7K9zp2pSHJNYHT2m0qcnQMx1q6v5sGD7Gf3MRCS/NcQPwrbsMLGDt1uM4FDoUMHtIYy2mdmEOgKbUtgRth2vBCykkGbXCh4yGDhzDGcpE4KreQIlaj6ebH5BM07mOHQ2YyRor7hGX7MXB8L4eR9xkCu4f5ylkX7w4dj8n7y65q4ERLUPBCyQ9accm3STl9eJ8N2g917IJTA2eLbJCaovIaG4zikmOock6Tsz9j6hlhnAGnQeb4JoeX1A4sm4x71nfFtQdDn1vPY6HlLQNfkNvMR7F/wDlvXGRPj7Lz05eafJJuRbXglDAXi9k8H3F3vvYFmOWhTwEPsGTiNxecXXTQiht586fKqfzrSiM4TUz9mNcFk/o8cWfbboLAGbzBKC7AlFfId87yvRrTmFHOcqd/HAxOEy2gXisuMeoGJ1FOH1a5vRA4NzHnEnDXiKmJK6lyzoshCpwcEmSvFJd4kitnFnAGrxeKG3kTG5UzGziD19ryqEoEaNmUs+p67lz0UnUOVBN8jOK+YepL/6tM2e+8Y66p2G9gl+eN8/rGtIOV05s700wCTh4jE9lk6sLfcbu4UcqxXJKBc05JKuvSwX+nW4PLMzk4OSa5LIqL31aV00GqqrOAM3hJk8x1M6qghJzLBs7gJVlWQMu6/ENA+WOygjN40YprwXamnD6scjs7OIOn68QA0PTQV3Yau6ePOHIQWloB54KJWHJualPd+oujVsEp+4hNvglaJ68qWwdn8BZV3Dp4es/Zyb/qOwFn8BZVXB/ezHtOvzN3uzNwBi9GcTV1jCX5zilnMaVTcAqYPU8xLKK4rSnnPKCdg3PBBShu68rpYquqewNOwc1R3E6UswqYO9crcAZvlVo/WD5lQX6i1g+5v1m7F9VfZyx7qGsbCm4AAAAASUVORK5CYII="},igA9:function(e,i,t){e.exports=t.p+"static/img/frame_border4.07972b0.png"},jRgP:function(e,i,t){e.exports=t.p+"static/img/longPressBtn1.2ed0fe9.png"},n54Z:function(e,i,t){e.exports=t.p+"static/media/frame1.41e5f9e.mp4"},ohzi:function(e,i,t){e.exports=t.p+"static/img/frame_border3.d46434c.png"},"oj/A":function(e,i,t){e.exports=t.p+"static/img/longPressBtn3.5c469df.png"},wcqD:function(e,i,t){e.exports=t.p+"static/media/animation4.96d072f.mp4"},yHrG:function(e,i,t){e.exports=t.p+"static/img/right_btn.31d154f.png"}});
//# sourceMappingURL=2.78de6d6f8f462c04f663.js.map