{"version":3,"sources":["webpack:///./src/assets/images/symbols-icons-light-check.png","webpack:///./src/components/histogram.vue?28d9","webpack:///src/components/histogram.vue","webpack:///./src/components/histogram.vue?d263","webpack:///./src/components/histogram.vue","webpack:///./src/assets/images/symbols-icons-light-close.png","webpack:///./src/components/histogram.vue?9070","webpack:///./src/assets/images/add.png"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","item","index","key","_s","staticStyle","cursor","attrs","width","src","__webpack_require__","alt","on","click","$event","event","toDeleteProvince","showInput","_e","directives","name","rawName","value","expression","type","placeholder","domProps","input","target","composing","province","margin","selectedProvince","_m","staticRenderFns","id","echarts","histogramvue_type_script_lang_js_","data","selectedList","cityList","seriesData","airProblem","newAirData","dataNum","yearsNum","created","getCityList","PM2d5","handler","getSeriesData","mounted","drawMap","computed","Object","objectSpread","vuex_esm","watch","chartData","newValue","oldValue","console","log","pollutant","CO","NO2","PM10","SO2","O3","deep","methods","airData","_this","allCityList","forEach","length","indexOf","push","splitArray","myChart","init","document","getElementById","setOption","tooltip","trigger","axisPointer","toolbox","show","showTitle","orient","right","top","feature","mark","dataView","readOnly","restore","saveAsImage","grid","left","bottom","containLabel","xAxis","boundaryGap","yAxis","itemStyle","color","barBorderRadius","series","_this2","alert","area","splice","network","_this3","arr","len","newArr","cutArray","arr_length","i","slice","values","keys","newValues","valuesGroup","z","arrIndex","count","arrData","newArrData","a","b","components_histogramvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_histogram_vue_vue_type_style_index_0_id_7aeecdbf_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_histogram_vue_vue_type_style_index_0_id_7aeecdbf_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-eb0ea102.e30c5071.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFIGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTAtMjlUMTY6MzU6MTgrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTA1VDIyOjMzOjA0KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTExLTA1VDIyOjMzOjA0KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmE1MGI1OWE2LTNlYzgtNDM3MC1hYTBhLWQ3NWY2N2EwMjZkOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDphNTBiNTlhNi0zZWM4LTQzNzAtYWEwYS1kNzVmNjdhMDI2ZDkiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphNTBiNTlhNi0zZWM4LTQzNzAtYWEwYS1kNzVmNjdhMDI2ZDkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE1MGI1OWE2LTNlYzgtNDM3MC1hYTBhLWQ3NWY2N2EwMjZkOSIgc3RFdnQ6d2hlbj0iMjAxOC0xMC0yOVQxNjozNToxOCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PdbLIAAAATJJREFUaIHt2TuOgzAUhWFnUkyJ2Jl3QGOvIWsYiQ3QwYaQ0tNlFuAmXaQ7TSgyUvzmHke6R3JHwv8hquREROqT94UOKJ0A0BMAegJATwDoCeCoWWv7aZpM8EIiau4YY3rn3J2IHvM8X3zXwmN98fvxIZp6hay1/TiOv13XfUd/CP3EfU/+Y16h3PgmACXxcEBpPBRQIx4GqBUPAdSMZwfUjmcFHBEfBdBan9d1vRpj+tbigwCt9XnbthsRPZxz9xzEkfFBwB6/n1TE0fFBwPNGLzePRXDEBwG5CK74KEAqgjM+GhCL4I5PAoQQiPhkgA+BiM8CvEMg4rMBIQRXfBHgHYIzvhjwH8EdT0TqRFT+J9+yLBellBqG4af4yxJXBYBcUz9s5UwA6AkAPQGgJwD0/gDGDM+V7gzSWQAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"selector\"},[_c('div',{staticClass:\"input-item\"},[_c('label',[_vm._v(\"区域筛选\")]),_vm._l((_vm.selectedList),function(item,index){return _c('div',{key:index,staticClass:\"selecteds\"},[_c('span',[_vm._v(_vm._s(item))]),_c('div',{staticClass:\"closeSelected\"},[_c('img',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"width\":\"10px\",\"src\":require(\"@/assets/images/symbols-icons-light-close.png\"),\"alt\":\"\"},on:{\"click\":function($event){_vm.event().toDeleteProvince(index)}}})])])}),(!_vm.showInput)?_c('div',{staticClass:\"icon\"},[_c('img',{attrs:{\"width\":\"100%\",\"src\":require(\"@/assets/images/add.png\"),\"alt\":\"\"},on:{\"click\":function($event){_vm.showInput=true}}})]):_vm._e(),(_vm.showInput)?_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.province),expression:\"province\"}],attrs:{\"type\":\"text\",\"placeholder\":\"筛选省名称\"},domProps:{\"value\":(_vm.province)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.province=$event.target.value}}}),_c('img',{staticStyle:{\"margin\":\"0 5px\",\"cursor\":\"pointer\"},attrs:{\"width\":\"25px\",\"src\":require(\"@/assets/images/symbols-icons-light-check.png\"),\"alt\":\"\"},on:{\"click\":function($event){_vm.event().selectedProvince()}}}),_c('img',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"width\":\"14px\",\"src\":require(\"@/assets/images/symbols-icons-light-close.png\"),\"alt\":\"\"},on:{\"click\":function($event){_vm.showInput=false}}})]):_vm._e()],2)]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"histogram-con\"},[_c('div',{staticClass:\"china\"}),_c('div',{staticClass:\"who\"}),_c('div',{staticClass:\"map\",attrs:{\"id\":\"myChart\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"selector\">\r\n      <div class=\"input-item\">\r\n        <label>区域筛选</label>\r\n        <div class=\"selecteds\" v-for=\"(item,index) in selectedList\" :key=\"index\">\r\n          <span>{{item}}</span>\r\n          <div class=\"closeSelected\">\r\n            <img @click=\"event().toDeleteProvince(index)\" style=\"cursor: pointer;\" width=\"10px\" src=\"@/assets/images/symbols-icons-light-close.png\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"icon\" v-if=\"!showInput\">\r\n          <img width=\"100%\" @click=\"showInput=true\" src=\"@/assets/images/add.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"input\" v-if=\"showInput\">\r\n          <input v-model=\"province\" type=\"text\" placeholder=\"筛选省名称\">\r\n          <img @click=\"event().selectedProvince()\" style=\"margin:0 5px;cursor: pointer;\" width=\"25px\" src=\"@/assets/images/symbols-icons-light-check.png\" alt=\"\">\r\n          <img @click=\"showInput=false\" style=\"cursor: pointer;\" width=\"14px\" src=\"@/assets/images/symbols-icons-light-close.png\" alt=\"\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"histogram-con\">\r\n      <div class=\"china\"></div>\r\n      <div class=\"who\"></div>\r\n      <div id=\"myChart\" class=\"map\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import axios from \"axios\";\r\n// var XLSX = require(\"xlsx\");\r\n// 引入基本模板\r\nimport { mapState } from \"vuex\";\r\nimport { GRID } from \"@/jslib/areaAddress\";\r\nvar echarts = require(\"echarts\");\r\n// import \"echarts/lib/component/title\";\r\n// import \"echarts/lib/component/legend\";\r\nimport \"echarts/lib/chart/heatmap\";\r\nimport \"echarts/lib/component/toolbox\";\r\nimport \"echarts/lib/component/tooltip\";\r\n// import areaData from \"@/jslib/areaData\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      showInput: false,\r\n      province: \"\",\r\n      selectedList: [], //已筛选的省份列表\r\n      cityList: [],\r\n      seriesData: [],\r\n      airProblem: [], //当前污染物全部数据\r\n      newAirData: [], //当前城市或省份的污染数据\r\n      dataNum: 5, //柱状图显示n条数据,城市/省份数目\r\n      yearsNum: 5 //年份数目\r\n    };\r\n  },\r\n  created() {\r\n    this.getCityList(this.PM2d5);\r\n    this.handler().getSeriesData(this.PM2d5);\r\n    this.airProblem = this.PM2d5;\r\n    // console.log('PM2d5',this.PM2d5);\r\n    // console.log('CO',this.CO);\r\n    // console.log('NO2',this.NO2);\r\n    // console.log('PM10',this.PM10);\r\n    // console.log('SO2',this.SO2);\r\n    // console.log('O3',this.O3);\r\n  },\r\n  mounted() {\r\n    this.drawMap();\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      \"PM2d5\",\r\n      \"CO\",\r\n      \"NO2\",\r\n      \"PM10\",\r\n      \"SO2\",\r\n      \"O3\",\r\n      \"chartData\",\r\n      \"importantCity\",\r\n      \"hotCity\"\r\n    ])\r\n  },\r\n  watch: {\r\n    chartData: {\r\n      // area(newValue,oldValue){\r\n      //   console.log(newValue);\r\n      // },\r\n      // deep:true\r\n      handler(newValue, oldValue) {\r\n        console.log(newValue.pollutant);\r\n        switch (newValue.pollutant) {\r\n          case 0:\r\n            this.airProblem = this.PM2d5;\r\n            this.getCityList(this.PM2d5);\r\n            this.handler().getSeriesData(this.PM2d5);\r\n            this.drawMap();\r\n            break;\r\n          case 1:\r\n            this.airProblem = this.CO;\r\n            this.getCityList(this.CO);\r\n            this.handler().getSeriesData(this.CO);\r\n            this.drawMap();\r\n            break;\r\n          case 2:\r\n            this.airProblem = this.NO2;\r\n            this.getCityList(this.NO2);\r\n            this.handler().getSeriesData(this.NO2);\r\n            this.drawMap();\r\n            break;\r\n          case 3:\r\n            this.airProblem = this.PM10;\r\n            this.getCityList(this.PM10);\r\n            this.handler().getSeriesData(this.PM10);\r\n            this.drawMap();\r\n            break;\r\n          case 4:\r\n            this.airProblem = this.SO2;\r\n            this.getCityList(this.SO2);\r\n            this.handler().getSeriesData(this.SO2);\r\n            this.drawMap();\r\n            break;\r\n          case 5:\r\n            this.airProblem = this.O3;\r\n            this.getCityList(this.O3);\r\n            this.handler().getSeriesData(this.O3);\r\n            this.drawMap();\r\n            break;\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    getCityList(airData) {\r\n      let allCityList = [];\r\n      airData.forEach(item => {\r\n        if (this.selectedList.length > 0) {\r\n          if (this.selectedList.indexOf(item[\"省份\"]) !== -1) {\r\n            allCityList.push(item[\"城市\"]);\r\n          }\r\n        } else {\r\n          allCityList.push(item[\"城市\"]);\r\n        }\r\n      });\r\n      console.log(allCityList);\r\n      this.cityList = this.handler().splitArray(allCityList, this.dataNum);\r\n    },\r\n    drawMap() {\r\n      let myChart = echarts.init(document.getElementById(\"myChart\"));\r\n      myChart.setOption({\r\n        // title: {\r\n        //   text: \"世界人口总量\",\r\n        //   subtext: \"数据来自网络\"\r\n        // },\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          axisPointer: {\r\n            type: \"shadow\"\r\n          }\r\n        },\r\n        toolbox: {\r\n          show: true,\r\n          showTitle: true,\r\n          orient: \"vertical\",\r\n          right: \"20px\",\r\n          top: \"center\",\r\n          feature: {\r\n            mark: { show: true },\r\n            dataView: { show: true, readOnly: false },\r\n            restore: { show: true },\r\n            saveAsImage: { show: true }\r\n          }\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"4%\",\r\n          bottom: \"3%\",\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: \"value\",\r\n          boundaryGap: [0, 0.01]\r\n          // data:[0,50,100,150,200,250,300,350,400]\r\n        },\r\n        yAxis: {\r\n          type: \"category\",\r\n          data: this.cityList\r\n        },\r\n        itemStyle: {\r\n          color: \"#32ADFE \",\r\n          barBorderRadius: [0, 10, 10, 0]\r\n        },\r\n        // series: [\r\n        //   {\r\n        //     name: \"2011年\",\r\n        //     type: \"bar\",\r\n        //     data: [19325, 23438, 31000, 121594, 134141]\r\n        //   },\r\n        //   {\r\n        //     name: \"2012年\",\r\n        //     type: \"bar\",\r\n        //     data: [19325, 23438, 31000, 121594, 134141]\r\n        //   },\r\n        //   {\r\n        //     name: \"2013年\",\r\n        //     type: \"bar\",\r\n        //     data: [19325, 23438, 31000, 121594, 134141]\r\n        //   },\r\n        //   {\r\n        //     name: \"2014年\",\r\n        //     type: \"bar\",\r\n        //     data: [19325, 23438, 31000, 121594, 134141]\r\n        //   },\r\n        //   {\r\n        //     name: \"2015年\",\r\n        //     type: \"bar\",\r\n        //     data: [19325, 23438, 31000, 121594, 134141]\r\n        //   }\r\n        // ]\r\n        series: this.seriesData\r\n      });\r\n    },\r\n    event() {\r\n      return {\r\n        selectedProvince: () => {\r\n          if (this.province === \"\") {\r\n            alert(\"筛选条件不能为空！\");\r\n          } else if (this.selectedList.indexOf(this.province) !== -1) {\r\n            alert(\"不能重复筛选\");\r\n          } else {\r\n            if (this.chartData.area === 0) {\r\n              this.selectedList.push(this.province);\r\n              this.airProblem.forEach(item => {\r\n                if (this.selectedList.indexOf(item[\"省份\"]) !== -1) {\r\n                  this.newAirData.push(item);\r\n                }\r\n              });\r\n              this.getCityList(this.newAirData);\r\n              this.handler().getSeriesData(this.newAirData);\r\n              this.drawMap();\r\n            } \r\n            if (this.chartData.area === 1) {\r\n              this.selectedList.push(this.province);\r\n              this.airProblem.forEach(item => {\r\n                if (this.selectedList.indexOf(item[\"城市\"]) !== -1) {\r\n                  this.newAirData.push(item);\r\n                }\r\n              });\r\n              this.getCityList(this.newAirData);\r\n              this.handler().getSeriesData(this.newAirData);\r\n              this.drawMap();\r\n            }\r\n          }\r\n        },\r\n        toDeleteProvince: index => {\r\n          this.selectedList.splice(index, 1);\r\n        }\r\n      };\r\n    },\r\n    network() {\r\n      return {};\r\n    },\r\n    handler() {\r\n      return {\r\n        splitArray: (arr, len) => {\r\n          let newArr = [];\r\n          arr.forEach((item, index) => {\r\n            if (index < len) {\r\n              newArr.push(item);\r\n            }\r\n          });\r\n          return newArr;\r\n        },\r\n        cutArray: (arr, len) => {\r\n          let arr_length = arr.length;\r\n          let newArr = [];\r\n          for (let i = 0; i < arr_length; i += len) {\r\n            newArr.push(arr.slice(i, i + len));\r\n          }\r\n          return newArr;\r\n        },\r\n        getSeriesData: airData => {\r\n          let values = []; //对象值\r\n          let keys = []; //对象的key\r\n          let newValues = []; //处理原来的对象值，只保留年份污染数据\r\n          let valuesGroup = []; //将污染数据分组\r\n          let z = 0;\r\n          airData.forEach((item, index) => {\r\n            if (index < this.dataNum) {\r\n              for (let i in item) {\r\n                if (z < 5) {\r\n                  values.push(item[i]);\r\n                  keys.push(i);\r\n                }\r\n                z++;\r\n                if (z === 9) {\r\n                  z = 0;\r\n                  values.forEach(item => {\r\n                    newValues.push(item);\r\n                  });\r\n                  values = [];\r\n                }\r\n              }\r\n            }\r\n          });\r\n          valuesGroup = this.handler().cutArray(newValues, this.dataNum);\r\n          let arrIndex = 0;\r\n          let count = 0;\r\n          let arrData = [];\r\n          let newArrData = [];\r\n          for (let i = 0; i < valuesGroup.length; i++) {\r\n            valuesGroup.forEach((a, b) => {\r\n              count++;\r\n              arrData.push(a[arrIndex]);\r\n              if (count === this.yearsNum) {\r\n                arrIndex++;\r\n                count = 0;\r\n                newArrData.push(arrData);\r\n                arrData = [];\r\n              }\r\n            });\r\n          }\r\n          this.seriesData = [];\r\n          newArrData.forEach((item, index) => {\r\n            this.seriesData.push({\r\n              name: keys[index],\r\n              type: \"bar\",\r\n              data: item\r\n            });\r\n          });\r\n        }\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.container {\r\n  position: absolute;\r\n  top: 60px;\r\n  bottom: 0;\r\n  left: 275px;\r\n  right: 0;\r\n  .selector {\r\n    position: absolute;\r\n    z-index: 9999;\r\n    top: 30px;\r\n    left: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n    .input-item {\r\n      display: flex;\r\n      align-items: center;\r\n      .input {\r\n        display: flex;\r\n        align-items: center;\r\n        padding-left: 4px;\r\n        background-color: #32adfe;\r\n        border-radius: 16px;\r\n        width: 280px;\r\n        height: 32px;\r\n        > input {\r\n          padding-left: 15px;\r\n          width: 200px;\r\n          height: 24px;\r\n          border-radius: 16px;\r\n          border: none;\r\n          outline: none;\r\n        }\r\n      }\r\n      label {\r\n        font-size: 16px;\r\n        color: #2c3e50;\r\n        margin-right: 15px;\r\n      }\r\n      .selecteds {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        margin-right: 20px;\r\n        color: #fff;\r\n        width: 86px;\r\n        height: 32px;\r\n        border-radius: 100px;\r\n        background-color: #32adfe;\r\n        .closeSelected {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          cursor: pointer;\r\n          margin-left: 8px;\r\n          background-color: #0f70ca;\r\n          width: 16px;\r\n          height: 16px;\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n      .icon {\r\n        box-sizing: border-box;\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        text-align: center;\r\n        padding: 3px;\r\n        border-radius: 50%;\r\n        height: 25px;\r\n        width: 25px;\r\n        font-size: 25px;\r\n        font-weight: lighter;\r\n        background-color: #32adfe;\r\n      }\r\n    }\r\n  }\r\n}\r\n.histogram-con {\r\n  position: relative;\r\n  .china {\r\n    // position:absolute;\r\n    // left: 122px;\r\n    // bottom: 46px;\r\n    // background-color: rgba(149, 226, 254, 0.5);\r\n    // width: 320px;\r\n    // height: 88%;\r\n  }\r\n  .who {\r\n  }\r\n  .map {\r\n    position: fixed;\r\n    margin-top: 35px;\r\n    width: 80%;\r\n    height: 70%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./histogram.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./histogram.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./histogram.vue?vue&type=template&id=7aeecdbf&scoped=true&\"\nimport script from \"./histogram.vue?vue&type=script&lang=js&\"\nexport * from \"./histogram.vue?vue&type=script&lang=js&\"\nimport style0 from \"./histogram.vue?vue&type=style&index=0&id=7aeecdbf&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aeecdbf\",\n  null\n  \n)\n\ncomponent.options.__file = \"histogram.vue\"\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFIGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTAtMjlUMTY6MzU6MTgrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTA1VDIyOjMyOjExKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTExLTA1VDIyOjMyOjExKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmYzMWIwNTMzLWZiNDItNGFkMi1hMWZkLWY1MzM4ZjdjNWQ0MCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpmMzFiMDUzMy1mYjQyLTRhZDItYTFmZC1mNTMzOGY3YzVkNDAiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmMzFiMDUzMy1mYjQyLTRhZDItYTFmZC1mNTMzOGY3YzVkNDAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmYzMWIwNTMzLWZiNDItNGFkMi1hMWZkLWY1MzM4ZjdjNWQ0MCIgc3RFdnQ6d2hlbj0iMjAxOC0xMC0yOVQxNjozNToxOCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+pvZpUQAAALpJREFUSInNlk0KAyEMhUPP5PlyLekmgseaCK+bphRapmOUR4UsRM0n+dEnAASAmFlV1RLzXaaqxcxqzAWA9N4bgOHux06oqhZ3PwCMJ0OktXYHMMJ2Qd9hYWZWvy6sQs98/tywE/bK4S7oFR/TB1ZgH8AsdObMsoPZCy6FKBONdF6y+U5XXra40uWegV0GnkFne/Um7PF3IaUWDbUtqI1Pfdqojzf1e6J+wFSJQRdRdJkIkIVwLLKk/gMMwjyyTjgu2QAAAABJRU5ErkJggg==\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./histogram.vue?vue&type=style&index=0&id=7aeecdbf&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./histogram.vue?vue&type=style&index=0&id=7aeecdbf&scoped=true&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADaklEQVR4Xu3dMY+MURTG8efQiCjodXQSCg2bjSgUolP7CJvwWYivoNZpKIgIjQKJikqiFA0KkSsTs5mdN8tIVmHm/Kad2c17zn3m3P//zkzeikfrDlTr6hUfAWgeAgEQgOYdaF6+CSAAzTvQvHwTQAB6dmCMcTXJnSTfk9yqqkcdO9FyAowxTiT5mOTIfNG/JDlZVZ+7haBrALaTPJ0s9sWqeiEADTowxriU5Mmk1K2qet6g/KUSu04AAZjHQAAW7wcToMv4swUsVtoEMAG6vO8XdZoAJgAIBIE0cJYBDIABMMC8AzSwSxRAIAgEgSAQBILA5T0PA2AAnwa2yAAIBIEgEASCQBAIAh0F78kAC2hBgElAIAgEgSAQBIJAEAgCQWAX8ttTJwgEgSAQBIJAEAgCQSAIBIG7HXAU3CULLIAFsAAWwAJYAAtgASygC/k5Ct53pf04dNEWGthlGNBAGkgDaSANpIE0kAbSwC7kRwNp4G4HWAALYAEsgAWwABbAAlgAC/CVsFUZGGMcTXI+yeFVr12T588muT251p0kb9fk+ldd5o8kL6vq66oXrvw0cIxxOcn9JMdX/TPP/1cdmN0A60ZVPfjTVf1NAF4lmb1jPNavA++r6vRBA/Auyan1q90VJ3ldVecOGoBrSe7ZAtYuULMt4HpVPT5QAGZ/vIEQeCbJ3UljbiZ5s3bLvP8F/zsI3JCGLJUxxthK8mxS26Wqmt5MchPLX6ppJQRuYgcEYLGqArDohQmwie/2/WoyAUwADDDPgC3AFtBl8C/qtAXYAmwBtgDnALMMYAAMgAHmHXAO0CUKIBAEgkAQCAJB4PKehwEwgI+DW2QABIJAEAgCQSAIBIGOgvdkgAW0IMBf33LGABgAA2AADIABMECXjX9PnRjAQRAIBIEgEASCQBAIAkHgbgecBHbJAgtgASyABbAAFsACWAAL6EJ+joL3XWm/DVy0hQZ2GQY0kAbSQBpIA2kgDaSBNLAL+dFAGrjbARbAAlgAC2ABLIAFsAAWwAJ8JaxbBsYYF5I8n9S9XVXTu4hsfGu6fho4uwfihyTH5iv8LcnJqvq08Ss+KbBlAGY9GGNcmd846lCSnap62G3x21pAx4X+Xc1tJ4AQ/OqAADRPggAIQPMONC/fBBCA5h1oXr4J0DwAPwGCRjuf/DrwBAAAAABJRU5ErkJggg==\""],"sourceRoot":""}